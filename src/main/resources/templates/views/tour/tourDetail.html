<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<script th:unless="${item}">
    alert("Ìï¥Îãπ Ï†ïÎ≥¥Í∞Ä ÏÇ≠Ï†úÎêòÍ±∞ÎÇò ÏóÜÏäµÎãàÎã§")
    history.back();
</script>


<th:block th:if="${item}" th:with="logged_user=${#authentication.principal.user}">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        <script src="https://code.jquery.com/jquery-3.5.1.js" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/821e8d3801.js" crossorigin="anonymous"></script>

        <!--        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>-->
        <link rel="stylesheet" type="text/css" th:href="@{/common/css/map.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/food/css/food.css}">
        <style>
            body {
                background-color: #f8f9fa;
                color: #495057;
            }

            .container {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                height: 100vh; /* Î∑∞Ìè¨Ìä∏ ÎÜíÏù¥Ïóê ÎßûÍ≤å ÏÑ§Ï†ï */
            }

            #container_tourdetail {
                padding: 20px;
                background-color: #fff;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                margin: 20px auto;
                max-width: 600px;
                text-align: center; /* ÌÖçÏä§Ìä∏ Í∞ÄÏö¥Îç∞ Ï†ïÎ†¨ */
            }

            #tourImage1 {
                border-radius: 8px;
                margin-bottom: 10px;
                width: 100%;
                max-height: 400px;
            }

            #tourName {
                font-size: 24px;
                font-weight: bold;
                margin-bottom: 10px;
            }

            #tourAddress {
                font-size: 16px;
            }

            #demoJSON_tour {
                margin-top: 20px;
                width: 100%;
            }
        </style>
        <title>Í¥ÄÍ¥ë ÏÉÅÏÑ∏Ï†ïÎ≥¥</title>
    </head>
    <script th:inline="javascript">
        const logged_id = [[${logged_user.userId}]];
    </script>
    <body>
    <div>
        <div id="container_tourdetail">
            <input type="hidden" id="tourId" th:value="${item.tourId}">
            <img th:src="${item.tourImage1 != null && item.tourImage1 != '' ? item.tourImage1 : '/tour/image/img_none_01.png'}"
                 class="img-fluid" id="tourImage1" style="width: 300px; height: 400px;">
            <p th:text="${item.tourName}" id="tourName"></p><br>
            <p th:text="${item.tourAddr1 + ' ' + item.tourAddr2}" id="tourAddress"></p><br>
            <table id="demoJSON_tour"></table>
            <input type="hidden" id="centralLongitude" name="centralLongitude" th:value="${item.tourMapx}"/>
            <input type="hidden" id="centralLatitude" name="centralLatitude" th:value="${item.tourMapy}"/>
            <input type="hidden" id="tourContentid" name="tourContentid" th:value="${item.tourContentid}"/>
        </div>
        <div class="card getreview gfi" id="foodImage1" style="width: 20rem; height: 20rem; border: 2px solid black;" referrerpolicy="no-referrer">
            <input style="display: none">
        </div>
        <div class="card getreview gfi" id="foodImage2" style="width: 20rem; height: 20rem; border: 2px solid black;" referrerpolicy="no-referrer">
            <input style="display: none">
        </div>
        <div class="card getreview gfi" id="foodImage3" style="width: 20rem; height: 20rem; border: 2px solid black;" referrerpolicy="no-referrer">
            <input style="display: none">
        </div>
        <div id="modal" class="modal-overlay" style="display: none;">
            <div class="modal-window">
                <div class="close-area">X</div>
                <div class="title">
                    <div id="store_name" ></div>
                    <div id="store_address" ></div>
                    <div id="store_tel" value=""></div>
                </div>
                <hr>
                <div id="showContent">
                    <div id="foodImage">ÏùåÏãùÏ†ê Ïù¥ÎØ∏ÏßÄ</div>
                    <div id="reviewShowStar">
                        <span>ÌèâÏ†ê</span>
                        <div id="reviewStarOne"></div>
                    </div>
                    <!-- ÌïòÎÇò -->
                    <div id="reviewShowCategory">
                        <span>Î¶¨Î∑∞</span>
                        <div id="reviewCategory"></div>
                    </div>
                    <input type="button" value="Î¶¨Î∑∞ÎÇ®Í∏∞Í∏∞" id="getShow">
                </div>
                    <input type="hidden" name="reviewId" th:value="${reviewId}">
                    <input id="foodid" type="hidden" name="foodId" th:value="${foodId}">
                    <div id="content" style="display: none;">
<!--                        <div class="container mt-3 mb-3 border rounded">-->
<!--                            <label>Ï≤®Î∂ÄÌååÏùº</label>-->
<!--                        </div>-->
                        <div class="mid">
                            <div id="userId">
                                <span>ÌöåÏõêID</span>
                                <input type="hidden" name="userId" th:value="${logged_user.userId}">
                            </div>
                            <div id="reviewStar">
                                <fieldset class="rate">
                                    <span>ÌèâÏ†ê</span>
                                    <input type="radio" id="rating10" name="reviewStar" value="5.0">
                                    <label for="rating10" title="5Ï†ê"></label>
                                    <input type="radio" id="rating9" name="reviewStar" value="4.5">
                                    <label class="half" for="rating9" title="4.5Ï†ê"></label>
                                    <input type="radio" id="rating8" name="reviewStar" value="4.0">
                                    <label for="rating8" title="4Ï†ê"></label>
                                    <input type="radio" id="rating7" name="reviewStar" value="3.5">
                                    <label class="half" for="rating7" title="3.5Ï†ê"></label>
                                    <input type="radio" id="rating6" name="reviewStar" value="3.0">
                                    <label for="rating6" title="3Ï†ê"></label>
                                    <input type="radio" id="rating5" name="reviewStar" value="2.5">
                                    <label class="half" for="rating5" title="2.5Ï†ê"></label>
                                    <input type="radio" id="rating4" name="reviewStar" value="2.0">
                                    <label for="rating4" title="2Ï†ê"></label>
                                    <input type="radio" id="rating3" name="reviewStar" value="1.5">
                                    <label class="half" for="rating3" title="1.5Ï†ê"></label>
                                    <input type="radio" id="rating2" name="reviewStar" value="1.0">
                                    <label for="rating2" title="1Ï†ê"></label>
                                    <input type="radio" id="rating1" name="reviewStar" value="0.5">
                                    <label class="half" for="rating1" title="0.5Ï†ê"></label>
                                    <input type="hidden" id="rating" name="rating" value="">
                                </fieldset>
                            </div>
                        </div>
                        <div id="reviewCat">
                            <span>Î¶¨Î∑∞</span>
                            <div class="keyword">
                                <ul class="category">
                                    <li class="category-comment">
                                        <input type="checkbox" class="checkComment" id="reviewCategory1"
                                               name="reviewCategory" value="ÏùåÏãùÏù¥ ÎßõÏûàÏñ¥Ïöî">
                                        <label for="reviewCategory1" class="label-comment">
                                            üòä ÏùåÏãùÏù¥ ÎßõÏûàÏñ¥Ïöî
                                        </label>
                                    </li>
                                    <li class="category-comment">
                                        <input type="checkbox" class="checkComment" id="reviewCategory2"
                                               name="reviewCategory" value="ÏπúÏ†àÌï¥Ïöî">
                                        <label for="reviewCategory2" class="label-comment">
                                            üíì ÏπúÏ†àÌï¥Ïöî
                                        </label>
                                    </li>
                                    <li class="category-comment">
                                        <input type="checkbox" class="checkComment" id="reviewCategory3"
                                               name="reviewCategory" value="Î∑∞Í∞Ä Ï¢ãÏïÑÏöî">
                                        <label for="reviewCategory3" class="label-comment">
                                            üåâ Î∑∞Í∞Ä Ï¢ãÏïÑÏöî
                                        </label>
                                    </li>
                                    <li class="category-comment">
                                        <input type="checkbox" class="checkComment" id="reviewCategory4"
                                               name="reviewCategory" value="ÌòºÎ∞•ÌïòÍ∏∞ Ï¢ãÏïÑÏöî">
                                        <label for="reviewCategory4" class="label-comment">
                                            üçô ÌòºÎ∞•ÌïòÍ∏∞ Ï¢ãÏïÑÏöî
                                        </label>
                                    </li>
                                    <li class="category-comment">
                                        <input type="checkbox" class="checkComment" id="reviewCategory5"
                                               name="reviewCategory" value="Îß§Ïû•Ïù¥ ÎÑìÏñ¥Ïöî">
                                        <label for="reviewCategory5" class="label-comment">
                                            üëÄ Îß§Ïû•Ïù¥ ÎÑìÏñ¥Ïöî
                                        </label>
                                    </li>
                                </ul>
                            </div>
                            <div class="category-content">
                            <textarea class="reviewComment" name="reviewContent" cols="15" rows="10"
                                      placeholder="ÏßÅÏ†ë ÌõÑÍ∏∞Î•º ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî" th:value="${reviewContent}"></textarea>
                            </div>
                            <button type="button" id="cancel" class="btn btn-outline-dark" value="Ï∑®ÏÜå">Ï∑®ÏÜå</button>
                            <button type="button" id="ok" class="btn btn-outline-dark" value="ÏûëÏÑ±ÏôÑÎ£å">ÏûëÏÑ±ÏôÑÎ£å</button>
                        </div>
                    </div>
                <!-- Î¶¨Î∑∞Ïùò ÏßÄÎèÑ ÏúÑÏπò -->
<!--                <div class="foodMap">-->
<!--                    <th:block th:insert="~{common/foodMap::commonMap}"></th:block>-->
<!--                </div>-->
            </div>
        </div>
        <!--<th:block th:insert="~{common/commonMap::commonMap}"></th:block>-->
    </div>
    </body>
</th:block>
<script th:src="@{/tour/js/tourDetail.js}"></script>
<script th:src="@{/common/js/foodMap.js}"></script>
<script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=8c1b1b874a51038bccf3ed41dd217837&libraries=services,clusterer,drawing"></script>
<!--<script th:src="@{/common/js/map.js}"></script>-->
</html>